(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(250)},250:function(e,t,a){"use strict";a.r(t);a(120);var n=a(0),r=a.n(n),s=a(35),c=a.n(s),o=a(36),i=a(67),l=a(18),u="LOGIN_USER",d="LOAD_TASKS",p="LOAD_TASKS_SUCCESS",m="LOAD_TASKS_ERROR",b="LOAD_TOKEN_SUCCESS",g="LOAD_TOKEN_ERROR",f="ADD_TASKS",h="UPDATE_TASKS",k="ADD_TASKS_SUCCESS",v="ADD_TASKS_ERROR",E="DELETE_TASKS",O="GET_TASK",y="GET_TASK_SUCCESS",x="GET_TASK_ERROR",_="FETCH_ASSIGNEE",j="LOAD_ASSIGNEE",S="LOAD_ASSIGNEE_ERROR",T={data:[],loading:!1,error:"",token:"",singleTask:{}};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)({},e,{loading:!1,error:""});case d:return Object(l.a)({},e,{loading:!0,error:""});case p:return Object(l.a)({},e,{task:t.task,loading:!1});case m:return Object(l.a)({},e,{loading:!1,error:t.error});case y:return Object(l.a)({},e,{singleTask:t.data.data,loading:!1});case x:return Object(l.a)({},e,{loading:!1,error:t.error});case j:return Object(l.a)({},e,{assignee:t.assignee,loading:!1});case S:return Object(l.a)({},e,{loading:!1,error:t.error});case b:return Object(l.a)({},e,{token:t.data,loading:!1});case g:return Object(l.a)({},e,{loading:!1,error:t.error});case k:return Object(l.a)({},e,{data:t.data,loading:!1});case v:return Object(l.a)({},e,{loading:!1,error:t.error});default:return e}}var A=a(116),C=a(13),R=a.n(C),D=a(111),K=a(7),L=R.a.mark(X),N=R.a.mark(V),G=R.a.mark(Q),U=R.a.mark(Y),F=R.a.mark(Z),I=R.a.mark($),B=R.a.mark(ee),z=R.a.mark(re),P=function(e){return e.token};function J(e){return H.apply(this,arguments)}function H(){return(H=Object(D.a)(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!(a=e.sent).ok){e.next=7;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:throw new Error("Unexpected error!!!");case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",{method:"GET",headers:{Authorization:"Bearer "+te,Accept:"application/json","Content-Type":"application/json"}})}function W(){return fetch("https://stage.api.sloovi.com/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:"smithcheryl@yahoo.com",password:"12345678"})})}function X(e){var t,a,n,r;return R.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(K.d)(P);case 3:return te=s.sent,t="Bearer "+te,(a=e.data).is_completed=0,a.time_zone=5e3,s.next=10,fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",{method:"POST",headers:{Authorization:t,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 10:return n=s.sent,s.next=13,Object(K.b)([n,n.json]);case 13:return r=s.sent,alert(r.message),s.next=17,Object(K.c)({type:k,data:r});case 17:return s.next=19,Object(K.c)(ne());case 19:s.next=26;break;case 21:return s.prev=21,s.t0=s.catch(0),s.next=25,Object(K.c)({type:v,error:s.t0.message});case 25:alert(s.t0.message);case 26:case"end":return s.stop()}},L,null,[[0,21]])}function q(){return fetch("https://stage.api.sloovi.com/team",{method:"GET",headers:{Authorization:"Bearer "+te,Accept:"application/json","Content-Type":"application/json"}})}function V(){var e;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(q);case 3:return e=t.sent,t.next=6,Object(K.c)({type:j,assignee:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(K.c)({type:S,error:t.t0.message});case 12:case"end":return t.stop()}},N,null,[[0,8]])}function Q(e){var t,a,n,r;return R.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(K.d)(P);case 3:return te=s.sent,t="Bearer "+te,a="https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/"+e.data,s.next=8,fetch(a,{method:"DELETE",headers:{Authorization:t,Accept:"application/json","Content-Type":"application/json"},body:{}});case 8:return n=s.sent,s.next=11,Object(K.b)([n,n.json]);case 11:return r=s.sent,alert(r.message),s.next=15,Object(K.c)(ne());case 15:return s.next=17,Object(K.c)({type:k,data:r});case 17:s.next=23;break;case 19:return s.prev=19,s.t0=s.catch(0),s.next=23,Object(K.c)({type:v,error:s.t0.message});case 23:case"end":return s.stop()}},G,null,[[0,19]])}function Y(e){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(K.c)({type:y,data:e});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(K.c)({type:x,error:t.t0.message});case 9:case"end":return t.stop()}},U,null,[[0,5]])}function Z(e){var t,a,n,r,s,c;return R.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(K.d)(P);case 3:return te=o.sent,t="Bearer "+te,a=e.data,n=a.task_id,delete a.task_id,a.is_completed=0,a.time_zone=5e3,r="https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/"+n,o.next=13,fetch(r,{method:"PUT",headers:{Authorization:t,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:return s=o.sent,o.next=16,Object(K.b)([s,s.json]);case 16:return c=o.sent,alert(c.message),o.next=20,Object(K.c)({type:k,data:c});case 20:return o.next=22,Object(K.c)(ne());case 22:o.next=28;break;case 24:return o.prev=24,o.t0=o.catch(0),o.next=28,Object(K.c)({type:v,error:o.t0.message});case 28:case"end":return o.stop()}},F,null,[[0,24]])}function $(){var e;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(W);case 3:if(e=t.sent,console.log("users",e),!e.errors){t.next=10;break}return t.next=8,Object(K.c)({type:g,error:e.message});case 8:t.next=12;break;case 10:return t.next=12,Object(K.c)({type:b,data:e.results.token});case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),t.next=18,Object(K.c)({type:g,error:t.t0.message});case 18:case"end":return t.stop()}},I,null,[[0,14]])}function ee(){var e;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(K.d)(P);case 3:return te=t.sent,t.next=6,J(M);case 6:return e=t.sent,t.next=9,Object(K.c)({type:p,task:e});case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Object(K.c)({type:m,error:t.t0.message});case 15:case"end":return t.stop()}},B,null,[[0,11]])}var te,ae=function(e){return{type:O,data:{task_msg:e.task_msg,task_date:e.task_date,task_time:e.task_time,assigned_user:e.assigned_user,task_id:e.id}}},ne=function(){return{type:d}};function re(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K.a,e.next=3,Object(K.f)(u,$);case 3:return e.t1=e.sent,e.next=6,Object(K.e)(d,ee);case 6:return e.t2=e.sent,e.next=9,Object(K.e)(f,X);case 9:return e.t3=e.sent,e.next=12,Object(K.e)(h,Z);case 12:return e.t4=e.sent,e.next=15,Object(K.e)(E,Q);case 15:return e.t5=e.sent,e.next=18,Object(K.e)(O,Y);case 18:return e.t6=e.sent,e.next=21,Object(K.e)(_,V);case 21:return e.t7=e.sent,e.t8=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7],e.next=25,(0,e.t0)(e.t8);case 25:case"end":return e.stop()}},z)}var se=Object(A.a)();var ce=a(62),oe=a(63),ie=a(65),le=a(64),ue=a(66),de=a(113),pe=a(256),me=a(257),be=a(259),ge=a(61),fe=a(258),he=a(260),ke=a(112),ve=a.n(ke),Ee=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ie.a)(this,Object(le.a)(t).call(this,e))).onSubmit=function(){var e=new FormData(a.form),t={};e.forEach(function(e,a){if("task_time"===a){var n=e.split(":"),r=60*+n[0]*60+60*+n[1];t[a]=r}else t[a]=e}),t.task_id&&t.task_id.length>0?a.props.updateTask(t):(delete t.task_id,a.props.addTask(t)),a.props.getTaskAction()},a.cancel=function(){window.location.reload()},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ge.a)({},n,r))},a.state={task_msg:null,task_id:"",task_date:"mm/dd/yyyy",task_time:"--:-- --",assigned_user:""},a}return Object(ue.a)(t,e),Object(oe.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(!ve.a.isEqual(this.props.singleTask,e.singleTask)){var t=e.singleTask,a=t.task_msg,n=void 0===a?"":a,r=t.task_date,s=void 0===r?"mm/dd/yyyy":r,c=t.task_time,o=void 0===c?0:c,i=t.assigned_user,l=void 0===i?"":i,u=t.task_id,d=void 0===u?"":u,p="";if(o&&o>0){var m=new Date(null);m.setSeconds(o),p=m.toISOString().substr(11,5)}this.setState({task_msg:n,task_id:d,task_date:s,task_time:p,assigned_user:l})}}},{key:"getAssignee",value:function(){var e=this.props.assigneeList,t=void 0===e?[]:e;return t.results&&t.results.data&&t.results.data.length>0&&t.results.data.map(function(e){return"accepted"===e.user_status&&r.a.createElement("option",{key:e.id,value:e.id},e.name)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bg-info"},r.a.createElement(fe.a,{ref:function(t){return e.form=t}},r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Group,{as:de.a,sm:"12",md:"12",lg:"12"},r.a.createElement(fe.a.Label,null,"Task Description"),r.a.createElement(fe.a.Control,{type:"text",name:"task_msg",value:this.state.task_msg,onChange:this.handleChange}),r.a.createElement(fe.a.Control,{type:"hidden",name:"task_id",value:this.state.task_id}))),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Group,{as:de.a,sm:"6",md:"6",lg:"6"},r.a.createElement(fe.a.Label,null,"Date"),r.a.createElement(fe.a.Control,{name:"task_date",type:"date",value:this.state.task_date,onChange:this.handleChange})),r.a.createElement(fe.a.Group,{as:de.a,sm:"6",md:"6",lg:"6"},r.a.createElement(fe.a.Label,null,"Time"),r.a.createElement(fe.a.Control,{name:"task_time",type:"time",value:this.state.task_time,onChange:this.handleChange}))),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Group,{as:de.a,sm:"12",md:"12",lg:"12"},r.a.createElement(fe.a.Label,null,"Assign User"),r.a.createElement(fe.a.Control,{name:"assigned_user",as:"select",value:this.state.assigned_user,onChange:this.handleChange,style:{width:"100%"}},this.getAssignee()))),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Group,null,r.a.createElement(he.a,{variant:"success",style:{float:"right"},onClick:this.onSubmit},"save"),r.a.createElement(he.a,{variant:"info",style:{float:"right","margin-right":"5px"},onClick:this.cancel},"cancel")))))}}]),t}(r.a.Component),Oe=Object(o.b)(function(e){return{assigneeList:e.assignee,token:e.token,singleTask:e.singleTask}},function(e){return{addTask:function(t){e(function(e){return{type:f,data:e}}(t))},updateTask:function(t){e(function(e){return{type:h,data:e}}(t))},getTaskAction:function(){e(ae({}))}}})(Ee),ye=a(30),xe=a(50),_e=a(252),je=a(253);function Se(e){var t=e.eventKey,a=e.callback,s=Object(n.useContext)(ye.a),c=Object(xe.b)(t,function(){a&&a(t)}),o=s===t;return r.a.createElement("div",{style:{float:"right","border-left":"1px solid #e2e1e1","padding-left":"10px","padding-top":"4px"},type:"button",id:"expand",onClick:c},!o&&r.a.createElement(_e.a,{eventKey:"1"}))}function Te(e){var t=e.eventKey,a=e.callback,s=Object(n.useContext)(ye.a),c=Object(o.c)(),i=Object(xe.b)(t,function(){c(ae({})),a&&a(t)}),l=s===t;return r.a.createElement("div",{style:{float:"right","border-left":"1px solid #e2e1e1","padding-left":"10px","padding-top":"4px"},type:"button",onClick:i},!l&&r.a.createElement(je.a,{eventKey:"0"}))}var we=a(254),Ae=a(255),Ce=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ie.a)(this,Object(le.a)(t).call(this,e))).state={showForm:!1},a}return Object(ue.a)(t,e),Object(oe.a)(t,[{key:"componentDidMount",value:function(){this.props.login()}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&(this.props.loadTasks(),this.props.assigneeList())}},{key:"setFormState",value:function(){this.setState({showForm:!this.state.showForm})}},{key:"showForm",value:function(){document.getElementById("expand").click()}},{key:"render",value:function(){var e=this,t=this.props.tasks,a=void 0===t?[]:t,n=a.results&&a.results.length>0&&a.results.map(function(t){return r.a.createElement("div",null,r.a.createElement(de.a,{sm:8,md:8,lg:8,style:{"border-bottom":"1px solid #e2e1e1"}},r.a.createElement("span",null,t.task_msg),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},t.task_date)),r.a.createElement(de.a,{sm:2,md:2,lg:2,style:{"border-bottom":"1px solid #e2e1e1","padding-top":"15px","padding-bottom":"5px"}},r.a.createElement(we.a,{onClick:function(){e.props.getTaskAction(t),e.showForm()}})),r.a.createElement(de.a,{sm:2,md:2,lg:2,style:{"border-bottom":"1px solid #e2e1e1","padding-top":"15px","padding-bottom":"5px"}},r.a.createElement(Ae.a,{onClick:function(){e.props.deleteTaskAction(t.id)}})))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{"margin-top":"250px","margin-left":"70px"}},r.a.createElement(pe.a,null,r.a.createElement(me.a,{defaultActiveKey:"0",transition:!1,as:de.a,sm:4,md:4,lg:4},r.a.createElement(be.a,null,r.a.createElement(be.a.Header,{className:"container",style:{width:"initial",border:"1px solid #e2e1e1"}},r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},"Task(s)"),r.a.createElement(Te,{eventKey:"0"}),r.a.createElement(Se,{eventKey:"1"}))),r.a.createElement(me.a.Collapse,{className:"bg-info container",style:{width:"initial",border:"1px solid #e2e1e1"},eventKey:"1"},r.a.createElement(be.a.Body,null,r.a.createElement(Oe,null))),r.a.createElement(me.a.Collapse,{className:"bg-light container",style:{width:"initial",border:"1px solid #e2e1e1"},eventKey:"0"},r.a.createElement(be.a.Body,null,n))))),r.a.createElement(pe.a,null)))}}]),t}(r.a.Component),Re=Object(o.b)(function(e){return{tasks:e.task,token:e.token}},function(e){return{login:function(){e({type:"LOGIN_USER"})},loadTasks:function(){e(ne())},assigneeList:function(){e({type:"FETCH_ASSIGNEE"})},deleteTaskAction:function(t){return e(function(e){return{type:E,data:e}}(t))},getTaskAction:function(t){return e(ae(t))}}})(Ce),De=function(e){var t=[se],a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,n=Object(i.c)(w,e,a(i.a.apply(void 0,t)));return se.run(re),n}();c.a.render(r.a.createElement(o.a,{store:De},r.a.createElement(Re,null)),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.c5d775ea.chunk.js.map